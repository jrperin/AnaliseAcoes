setwd("/home/jrperin/Área de Trabalho/DataScience/analiseAcoesR/acoesCsv/")
getwd()
setwd("/home/jrperin/Área de Trabalho/DataScience/analiseAcoesR/acoesCsv/")
papeis <- c("ABEV3.SA", "ITUB4.SA", "BBDC4.SA", "BBAS3.SA", "ITSA4.SA", "PETR3.SA", "PETR4.SA", "VALE3.SA", "CIEL3.SA", "BBSE3.SA", "RADL3.SA", "LAME4.SA", "RENT3.SA", "CSAN3.SA", "MDIA3.SA", "PCAR4.SA", "BRML3.SA", "ECOR3.SA", "HGTX3.SA", "HYPE3.SA", "KROT3.SA", "ABCB4.SA", "FIBR3.SA", "NATU3.SA", "EQTL3.SA", "TRPL4.SA", "MYPK3.SA", "WEGE3.SA", "BVMF3.SA", "VIVT4.SA", "BRKM5.SA", "GGBR4.SA", "IGTA3.SA", "GFSA3.SA", "GOLL4.SA", "USIM5.SA", "INEP4.SA", "UNIP6.SA", "COCE5.SA", "EMBR3.SA", "OIBR4.SA", "JBSS3.SA", "BRFS3.SA", "CYRE3.SA", "ESTC3.SA", "BRAP4.SA", "MRFG3.SA")
papeis
papeis <- read.csv(file = csvFile,header = F,sep = ",", quote = '"')
csvFile = "/home/jrperin/Área de Trabalho/DataScience/analiseAcoesR/acoesCsv/out.txt"
papeis <- c("ABEV3.SA", "ITUB4.SA", "BBDC4.SA", "BBAS3.SA", "ITSA4.SA", "PETR3.SA", "PETR4.SA", "VALE3.SA", "CIEL3.SA", "BBSE3.SA", "RADL3.SA", "LAME4.SA", "RENT3.SA", "CSAN3.SA", "MDIA3.SA", "PCAR4.SA", "BRML3.SA", "ECOR3.SA", "HGTX3.SA", "HYPE3.SA", "KROT3.SA", "ABCB4.SA", "FIBR3.SA", "NATU3.SA", "EQTL3.SA", "TRPL4.SA", "MYPK3.SA", "WEGE3.SA", "BVMF3.SA", "VIVT4.SA", "BRKM5.SA", "GGBR4.SA", "IGTA3.SA", "GFSA3.SA", "GOLL4.SA", "USIM5.SA", "INEP4.SA", "UNIP6.SA", "COCE5.SA", "EMBR3.SA", "OIBR4.SA", "JBSS3.SA", "BRFS3.SA", "CYRE3.SA", "ESTC3.SA", "BRAP4.SA", "MRFG3.SA")
papeis
papeis <- read.csv(file = csvFile, header = F,sep = ",", quote = '"')
papais
papeis <- c("ABEV3.SA", "ITUB4.SA", "BBDC4.SA", "BBAS3.SA", "ITSA4.SA", "PETR3.SA", "PETR4.SA", "VALE3.SA", "CIEL3.SA", "BBSE3.SA", "RADL3.SA", "LAME4.SA", "RENT3.SA", "CSAN3.SA", "MDIA3.SA", "PCAR4.SA", "BRML3.SA", "ECOR3.SA", "HGTX3.SA", "HYPE3.SA", "KROT3.SA", "ABCB4.SA", "FIBR3.SA", "NATU3.SA", "EQTL3.SA", "TRPL4.SA", "MYPK3.SA", "WEGE3.SA", "BVMF3.SA", "VIVT4.SA", "BRKM5.SA", "GGBR4.SA", "IGTA3.SA", "GFSA3.SA", "GOLL4.SA", "USIM5.SA", "INEP4.SA", "UNIP6.SA", "COCE5.SA", "EMBR3.SA", "OIBR4.SA", "JBSS3.SA", "BRFS3.SA", "CYRE3.SA", "ESTC3.SA", "BRAP4.SA", "MRFG3.SA")
papeis
papeis <- read.csv(file = csvFile, header = F,sep = ",", quote = '"')
papeis
#,"VALE5.SA","ELPL4.SA","SUZB5.SA"
View(papeis)
papeis <- c("ABEV3.SA", "ITUB4.SA", "BBDC4.SA", "BBAS3.SA", "ITSA4.SA", "PETR3.SA", "PETR4.SA", "VALE3.SA", "CIEL3.SA", "BBSE3.SA", "RADL3.SA", "LAME4.SA", "RENT3.SA", "CSAN3.SA", "MDIA3.SA", "PCAR4.SA", "BRML3.SA", "ECOR3.SA", "HGTX3.SA", "HYPE3.SA", "KROT3.SA", "ABCB4.SA", "FIBR3.SA", "NATU3.SA", "EQTL3.SA", "TRPL4.SA", "MYPK3.SA", "WEGE3.SA", "BVMF3.SA", "VIVT4.SA", "BRKM5.SA", "GGBR4.SA", "IGTA3.SA", "GFSA3.SA", "GOLL4.SA", "USIM5.SA", "INEP4.SA", "UNIP6.SA", "COCE5.SA", "EMBR3.SA", "OIBR4.SA", "JBSS3.SA", "BRFS3.SA", "CYRE3.SA", "ESTC3.SA", "BRAP4.SA", "MRFG3.SA")
papeis
papeis <- read.csv(file = csvFile, header = F,sep = ",", quote = '"')
papeis
papeis <- papeis[,1]
papeis
#,"VALE5.SA","ELPL4.SA","SUZB5.SA"
papeis <- c("ABEV3.SA", "ITUB4.SA", "BBDC4.SA", "BBAS3.SA", "ITSA4.SA", "PETR3.SA", "PETR4.SA", "VALE3.SA", "CIEL3.SA", "BBSE3.SA", "RADL3.SA", "LAME4.SA", "RENT3.SA", "CSAN3.SA", "MDIA3.SA", "PCAR4.SA", "BRML3.SA", "ECOR3.SA", "HGTX3.SA", "HYPE3.SA", "KROT3.SA", "ABCB4.SA", "FIBR3.SA", "NATU3.SA", "EQTL3.SA", "TRPL4.SA", "MYPK3.SA", "WEGE3.SA", "BVMF3.SA", "VIVT4.SA", "BRKM5.SA", "GGBR4.SA", "IGTA3.SA", "GFSA3.SA", "GOLL4.SA", "USIM5.SA", "INEP4.SA", "UNIP6.SA", "COCE5.SA", "EMBR3.SA", "OIBR4.SA", "JBSS3.SA", "BRFS3.SA", "CYRE3.SA", "ESTC3.SA", "BRAP4.SA", "MRFG3.SA")
#papeis
papeis <- read.csv(file = csvFile, header = F, sep = ",", quote = '"')
#papeis
papeis <- papeis[,1]
papeis
#,"VALE5.SA","ELPL4.SA","SUZB5.SA"
help(getSymbols)
getSymbols(papeis, from = "2018-03-20", to = "2018-04-10")
#install.packages("quantmod")
library("quantmod")
install.packages("quantmod")
library("quantmod")
# help(getSymbols)
getSymbols(papeis, from = "2018-03-20", to = "2018-04-10")
install.packages("quantmod")
library("quantmod")
# help(getSymbols)
getSymbols(papeis, from = "2018-03-20", to = "2018-04-10")
# help(getSymbols)
getSymbols(papeis, from = "2018-03-19", to = "2018-04-09")
papeis <- read.csv(file = csvFile, header = F, sep = ",", quote = '"')
#papeis
papeis <- papeis[,1]
papeis
papeis <- c("ABEV3.SA", "ITUB4.SA", "BBDC4.SA", "BBAS3.SA", "ITSA4.SA", "PETR3.SA", "PETR4.SA", "VALE3.SA", "CIEL3.SA", "BBSE3.SA", "RADL3.SA", "LAME4.SA", "RENT3.SA", "CSAN3.SA", "MDIA3.SA", "PCAR4.SA", "BRML3.SA", "ECOR3.SA", "HGTX3.SA", "HYPE3.SA", "KROT3.SA", "ABCB4.SA", "FIBR3.SA", "NATU3.SA", "EQTL3.SA", "TRPL4.SA", "MYPK3.SA", "WEGE3.SA", "BVMF3.SA", "VIVT4.SA", "BRKM5.SA", "GGBR4.SA", "IGTA3.SA", "GFSA3.SA", "GOLL4.SA", "USIM5.SA", "INEP4.SA", "UNIP6.SA", "COCE5.SA", "EMBR3.SA", "OIBR4.SA", "JBSS3.SA", "BRFS3.SA", "CYRE3.SA", "ESTC3.SA", "BRAP4.SA", "MRFG3.SA")
#papeis
papeis <- read.csv(file = csvFile, header = F, sep = ",", quote = '"')
#papeis
papeis <- papeis[,1]
papeis
#,"VALE5.SA","ELPL4.SA","SUZB5.SA"
# help(getSymbols)
getSymbols(papeis, from = "2018-03-19", to = "2018-04-09")
type(papeis)
typeof(papeis)
typeof()
typeof(papeis[,1])
typeof(papeis)
# Limpando o Console.
cat("\014")
# Limpando o Global Environment.
rm(list = ls())
csvFile = "/home/jrperin/Área de Trabalho/DataScience/analiseAcoesR/acoesCsv/out.txt"
library("quantmod")
papeis <- read.csv(file = csvFile, header = F, sep = ",", quote = '"')
#papeis
papeis <- papeis[,1]
papeis
# help(getSymbols)
getSymbols(papeis, from = "2018-03-19", to = "2018-04-09")
# help(getSymbols)
getSymbols(c("PETR4.SA"), from = "2018-03-19", to = "2018-04-09")
tmp <- Cl(to.daily(eval(parse(text = 'PETR4.SA'))))
P <- cbind(P, tmp)
P = NULL
tmp <- Cl(to.daily(eval(parse(text = 'PETR4.SA'))))
P <- cbind(P, tmp)
P
duplicated(papeis)
papeis[duplicated(papeis)]
papeis[!duplicated(papeis)]
papeis <- read.csv(file = csvFile, header = F, sep = ",", quote = '"')
#papeis
papeis <- papeis[,1]
papeis[!duplicated(papeis)]
papeis
papeis = papeis[!duplicated(papeis)]
papeis
#Verificando se ha duplicados
papeis[duplicated(papeis)]
typeof(c())
typeof(c(1,2))
typeof(c(1,2, A))
# Limpando o Console.
cat("\014")
# Limpando o Global Environment.
rm(list = ls())
csvFile = "/home/jrperin/Área de Trabalho/DataScience/analiseAcoesR/acoesCsv/out.txt"
library("quantmod")
papeis <- read.csv(file = csvFile, header = F, sep = ",", quote = '"')
#papeis
papeis <- papeis[,1]
#Removendo duplicados
papeis = papeis[!duplicated(papeis)]
papeis
#Verificando se ha duplicados
papeis[duplicated(papeis)]
# help(getSymbols)
getSymbols(papeis, from = "2018-03-19", to = "2018-04-09")
help(getSymbols)
typeof(papeis)
#Removendo duplicados
papeis = as.vector(papeis[!duplicated(papeis)])
papeis
#Verificando se ha duplicados
papeis[duplicated(papeis)]
typeof(papeis)
getSymbols(papeis, from = "2018-03-19", to = "2018-04-09")
# Limpando o Console.
cat("\014")
# Limpando o Global Environment.
rm(list = ls())
# Arquivo com os codigos de acoes a consultar (esse tem todas)
csvFile = "/home/jrperin/Área de Trabalho/DataScience/analiseAcoesR/acoesCsv/out.txt"
if (!require("devtools"))       { install.packages("jsonlite") }
if(!require("quantmod"))        { install.packages("quantmod") }
library("quantmod")
library("jsonlite")
# ls('package:quantmod')
if (!require("jsonlite"))       { install.packages("jsonlite") }
if(!require("quantmod"))        { install.packages("quantmod") }
library("quantmod")
library("jsonlite")
# ls('package:quantmod')
if (!require("jsonlite"))       { install.packages("jsonlite") }
if(!require("quantmod"))        { install.packages("quantmod") }
library("quantmod")
library("jsonlite")
# ls('package:quantmod')
papeis <- c("ABEV3.SA", "ITUB4.SA", "BBDC4.SA", "BBAS3.SA", "ITSA4.SA", "PETR3.SA", "PETR4.SA", "VALE3.SA", "CIEL3.SA", "BBSE3.SA", "RADL3.SA", "LAME4.SA", "RENT3.SA", "CSAN3.SA", "MDIA3.SA", "PCAR4.SA", "BRML3.SA", "ECOR3.SA", "HGTX3.SA", "HYPE3.SA", "KROT3.SA", "ABCB4.SA", "FIBR3.SA", "NATU3.SA", "EQTL3.SA", "TRPL4.SA", "MYPK3.SA", "WEGE3.SA", "BVMF3.SA", "VIVT4.SA", "BRKM5.SA", "GGBR4.SA", "IGTA3.SA", "GFSA3.SA", "GOLL4.SA", "USIM5.SA", "INEP4.SA", "UNIP6.SA", "COCE5.SA", "EMBR3.SA", "OIBR4.SA", "JBSS3.SA", "BRFS3.SA", "CYRE3.SA", "ESTC3.SA", "BRAP4.SA", "MRFG3.SA")
#Verificando se ha duplicados
papeis[duplicated(papeis)]
result <- fromJSON("https://www.alphavantage.co/query?apikey=H210P55NPUWHP8HN&function=TIME_SERIES_DAILY_ADJUSTED&symbol=PETR4.SA")
result
View(result)
result <- fromJSON("https://www.alphavantage.co/query?apikey=H210P55NPUWHP8HN&function=TIME_SERIES_DAILY_ADJUSTED&&outputsize=full&symbol=PETR4.SA")
result
papeis <- c("ABEV3.SA", "ITUB4.SA")
papeis <- c("ABEV3.SA", "ITUB4.SA")
#Verificando se ha duplicados
papeis[duplicated(papeis)]
for (papel in papeis){
result <- fromJSON("https://www.alphavantage.co/query?apikey=H210P55NPUWHP8HN&function=TIME_SERIES_DAILY_ADJUSTED&symbol=" + papel)
print(result)
}
for (papel in papeis){
url = paste("https://www.alphavantage.co/query?apikey=H210P55NPUWHP8HN&function=TIME_SERIES_DAILY_ADJUSTED&symbol=", "papel", sep="")
print (url)
result <- fromJSON(url)
print(result)
}
for (papel in papeis){
url = paste("https://www.alphavantage.co/query?apikey=H210P55NPUWHP8HN&function=TIME_SERIES_DAILY_ADJUSTED&symbol=", papel, sep="")
print (url)
result <- fromJSON(url)
print(result)
}
# result <- fromJSON("https://www.alphavantage.co/query?apikey=H210P55NPUWHP8HN&function=TIME_SERIES_DAILY_ADJUSTED&&outputsize=full&symbol=PETR4.SA")
